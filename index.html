<!DOCTYPE html>
<html lang="en">
	<head>
		<title>Unique Flow</title>

	    <meta charset="utf-8">
	    <meta http-equiv="Content-Type" content="text/html;charset=utf-8">
	    <meta http-equiv="x-ua-compatible" content="ie=edge">
	    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0, user-scalable=no, minimal-ui">
		<meta name="twitter:card" content="summary_large_image"/>     
		<meta name="twitter:site" content=""/>
	    <meta name="twitter:creator" content="@mark_lundin"/>
	    <meta name="twitter:title" content="Unique Flow">
	    <meta name="twitter:description" content="A realtime generative animation built with WebGL">
	    <meta name="twitter:image" content="http://www.mark-lundin.com/uniqueflow/assets/twitter-share.jpg">
	    <meta property="og:locale" content="en_GB" />
	    <meta property="og:title" content="Unique Flow" />
	    <meta property="og:description" content="A realtime generative animation built with WebGL">        
	    <meta property="og:url" content="http://www.mark-lundin.com/uniqueflow" />
	    <meta property="og:image" content="http://www.mark-lundin.com/uniqueflow/assets/facebook-share.jpg" />        
	    <meta property="og:image:width" content="1204" />        
	    <meta property="og:type" content="website" /> 
	    <meta property="og:site_name" content="Unique Flow" />
	    <meta name="share-text" content="My Unique Flow artwork in collaboration with @field_io">

		<link href="assets/main.css" rel="stylesheet" type="text/css">
		<!-- <link rel="stylesheet" href="https://fonts.googleapis.com/icon?family=Material+Icons">
		<link rel="stylesheet" href="https://code.getmdl.io/1.1.1/material.indigo-red.min.css">
		<script defer src="https://code.getmdl.io/1.1.1/material.min.js"></script>
		<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet"> -->

		
		<script src='canvas-to-blob.min.js'></script>
		<script src='FileSaver.min.js'></script>
		<script src='jspm_packages/system.js'></script>
		<script src='config.js'></script>

	</head>
<body>
	<div id="main"></div>
  	<script type="text/javascript">


  		console.warn( 'For those of you that way inclined, you can run this application as a second screen from any high powered Cast enabled device' )

  		console.warn( 'If you want to capture a still of the render, you can call `capture()` from the console')



  		// Script inserter

  		var addScript = function(src, fallback) {
			var script = document.createElement("script");
			script.src = src;
			script.async = false;
			script.onload = fallback;
			var firstScript = document.getElementsByTagName("script")[0];
			firstScript.parentNode.insertBefore(script, firstScript);
		}


		// Start the app

		var dev = new RegExp(/\bdev\b/).test( window.location.search );
		( dev ? System.import( './main' ) : addScript( './build/main.min.js' ))

		

		// Screen grab

		function capture(){
			var canvas = document.querySelector('canvas')
			canvas.toBlob( function( blob ){ saveAs( blob, 'unique-flow.png' )})
		}


	</script>
</body>
</html>